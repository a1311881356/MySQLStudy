# MySQL业务设计

## 一、逻辑设计

### 1.1、范式设计

#### 1.1.1、第一范式

- 数据表中的所有字段都具有单一属性
- 单一属性是由基本数据类型组成
- 设计出来的表都是简单的二维表

#### 1.1.2、第二范式

- 要求表中只具有一个业务主键，也就是说符合第二范式的表不能存在非主键列只对部分主键的依赖关系。消除非主属性对码的部分函数依赖。

#### 1.1.3、第三范式

- 在第二范式的基础上，消除了非主属性对码的传递函数依赖。

### 1.2、反范式设计

完全符合范式化的设计有时并不能得到良好的SQL查询性能。

**反范式设计：**

- 反范式话是针对范式话而言的，在前面介绍了数据库设计的范式。

- 所谓的反范式化就是为了性能和读取效率的考虑而适当对数据库设计范式的要求进行违反
- 允许存在少量的冗余，换句话说就是用空间换时间

**总结：**

不能完全按照范式化设计，还要考虑以后如何使用表。一些经常使用的字段冗余到其他表中。

**范式化设计优缺点：**

![1568451854636](D:\temp\assets\1568451854636.png)

**反范式化设计的优缺点：**

![1568451943848](D:\temp\assets\1568451943848.png)

## 二、物理设计

根据所选择的关系型数据库的特点对逻辑模型进行存储结构的设计。

1. 定义数据库、表及字段的命名规范

2. 选择合适的存储引擎

3. 为表中的字段选择合适的数据类型

4. 建立数据库结构

### 2.1、命名规范

#### 2.1.1、定义数据库、表、字段的命名规范

![1568452470189](D:\temp\assets\1568452470189.png)

### 2.2、存储引擎选择

前面已经讲了，略。

### 2.3、数据类型选择

![1568452619093](D:\temp\assets\1568452619093.png)

#### 2.3.1、浮点类型

![1568452779565](D:\temp\assets\1568452779565.png)

#### 2.3.2、日期类型

**timestamp类型与datetime的区别：**

- datatime类型在5.6及以后版本中占5个字节，timestamp占四个字节
- timestamp与时区有关，而datetime与时区无关。